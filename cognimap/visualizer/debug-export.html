<!DOCTYPE html>
<html>
<head>
    <title>Debug Export</title>
</head>
<body>
    <h1>Debug CogniMapVisualizer Export</h1>
    <pre id="output"></pre>
    
    <script src="./dist/bundle.js"></script>
    <script>
        const output = document.getElementById('output');
        
        function log(msg) {
            output.textContent += msg + '\n';
            console.log(msg);
        }
        
        log('=== Debugging CogniMapVisualizer Export ===\n');
        
        log('1. window.CogniMapVisualizer exists: ' + (typeof window.CogniMapVisualizer !== 'undefined'));
        log('2. Type of window.CogniMapVisualizer: ' + typeof window.CogniMapVisualizer);
        
        if (typeof window.CogniMapVisualizer !== 'undefined') {
            log('3. Is it a function? ' + (typeof window.CogniMapVisualizer === 'function'));
            log('4. Constructor name: ' + (window.CogniMapVisualizer.name || 'anonymous'));
            log('5. Properties: ' + Object.keys(window.CogniMapVisualizer).join(', '));
            
            // Try to see the structure
            if (typeof window.CogniMapVisualizer === 'object') {
                log('\n6. Object structure:');
                for (let key in window.CogniMapVisualizer) {
                    log('   - ' + key + ': ' + typeof window.CogniMapVisualizer[key]);
                }
            }
            
            // Try creating instance
            log('\n7. Attempting to create instance...');
            try {
                const container = document.createElement('div');
                container.id = 'test-container';
                document.body.appendChild(container);
                
                if (typeof window.CogniMapVisualizer === 'function') {
                    const instance = new window.CogniMapVisualizer('test-container');
                    log('   SUCCESS: Created instance as constructor');
                } else {
                    log('   FAILED: Not a constructor');
                }
            } catch (e) {
                log('   ERROR: ' + e.message);
            }
        }
    </script>
</body>
</html>